function getURLVar(b){var e=[];var d=document.location.search.split("?");if(d[1]){var a=d[1].split("&");for(i=0;i<a.length;i++){var c=a[i].split("=");if(c[0]&&c[1]){e[c[0]]=c[1]}}if(e[b]){return e[b]}else{return""}}}$(document).ready(function(){var a=document.getElementById("column-left");if(a){$("#cont").addClass("cont_color")}$(".text-danger").each(function(){var b=$(this).parent().parent();if(b.hasClass("form-group")){b.addClass("has-error")}});$("#form-currency .currency-select").on("click",function(b){b.preventDefault();$("#form-currency input[name='code']").val($(this).attr("name"));$("#form-currency").submit()});$("#form-language .language-select").on("click",function(b){b.preventDefault();$("#form-language input[name='code']").val($(this).attr("name"));$("#form-language").submit()});$("#search_head input[name='search']").parent().find("button").on("click",function(){var b=$("base").attr("href")+"index.php?route=product/search";var d=$("#search_head input[name='search']").val();if(d){b+="&search="+encodeURIComponent(d)}var c=$("select[name='category_id']").val();if(c>0){b+="&category_id="+encodeURIComponent(c);b+="&sub_category=true"}location=b});$("#search_head input[name='search']").on("keydown",function(b){if(b.keyCode==13){$("#search_head input[name='search']").parent().find("button").trigger("click")}});$("#list-view").click(function(){$("#content .product-layoutcatnew").attr("class","product-layoutcatnew product_height_auto product_ardlist product-list col-lg-12 col-md-12 col-sm-12 col-xs-6");$("#content .product-layoutcatnew .caption").attr("class","caption row");$("#content .product-layoutcatnew .product_list_block").attr("class","product_list_block col-lg-3 col-md-3 col-sm-3 col-xs-6");$("#content .product-layoutcatnew .product_list_block2").attr("class","product_list_block2 col-lg-9 col-md-9 col-sm-9 col-xs-6");$("#content .product-layoutcatnew .product_list_block2 .effect-hover").attr("class","effect-hover");localStorage.setItem("display","list");$(this).addClass("btn-listgrid");$("#grid-view").removeClass("btn-listgrid")});$("#grid-view").click(function(){cols=$("#column-right, #column-left").length;$("#content .product-layoutcatnew").attr("class","product-layoutcatnew product-grid");$("#content .product-layoutcatnew .caption").attr("class","caption");$("#content .product-layoutcatnew .product_list_block").attr("class","product_list_block");$("#content .product-layoutcatnew .product_list_block2").attr("class","product_list_block2");$("#content .product-layoutcatnew .product_list_block2 .effect-hover").attr("class","effect-hover effect-hover-grid");function b(){var d=$(window).width();function c(e){if($(window).width()!=d||e==0){if($(window).width()<992&&$(window).width()>600){if(cols==2){$("#content .product-grid").attr("class","two_cols product-layoutcatnew product_block product_height_auto product-grid col-lg-6 col-md-6 col-sm-6 col-xs-4")}else{if(cols==1){$("#content .product-grid").attr("class","one_cols product-layoutcatnew product_block product_height_auto product-grid col-lg-3 col-md-4 col-sm-4 col-xs-4")}else{$("#content .product-grid").attr("class","none_cols product-layoutcatnew product_block product_height_auto product-grid col-lg-3 col-md-3 col-sm-4 col-xs-4")}}}else{if($(window).width()<601&&$(window).width()>0){if(cols==2){$("#content .product-grid").attr("class","two_cols product-layoutcatnew product_block product_height_auto product-grid col-lg-6 col-md-6 col-sm-6 col-xs-6")}else{if(cols==1){$("#content .product-grid").attr("class","one_cols product-layoutcatnew product_block product_height_auto product-grid col-lg-3 col-md-4 col-sm-6 col-xs-6")}else{$("#content .product-grid").attr("class","none_cols product-layoutcatnew product_block product_height_auto product-grid col-lg-3 col-md-3 col-sm-4 col-xs-6")}}}else{if(cols==2){$("#content .product-grid").attr("class","two_cols product-layoutcatnew product_block product-grid col-lg-4 col-md-6 col-sm-6 col-xs-6")}else{if(cols==1){$("#content .product-grid").attr("class","one_cols product-layoutcatnew product_block product-grid col-lg-3 col-md-4 col-sm-6 col-xs-6")}else{$("#content .product-grid").attr("class","none_cols product-layoutcatnew product_block product-grid col-lg-3 col-md-3 col-sm-4 col-xs-6")}}}}d=$(window).width()}}c(0);$(window).resize(function(){c(1)})}b();localStorage.setItem("display","grid");$("#content .slide").attr("class","carousel slide");$("#content .list_ch").attr("class","list_ch");$(this).addClass("btn-listgrid");$("#list-view").removeClass("btn-listgrid")});if(localStorage.getItem("display")=="list"){$("#list-view").trigger("click")}else{$("#grid-view").trigger("click")}$(document).on("keydown","#collapse-checkout-option input[name='email'], #collapse-checkout-option input[name='password']",function(b){if(b.keyCode==13){$("#collapse-checkout-option #button-login").trigger("click")}});$("[data-toggle='tooltip']").tooltip({container:"body",trigger:"hover"});$(document).ajaxStop(function(){$("[data-toggle='tooltip']").tooltip({container:"body"})})});var cart={add:function(a,b){$.ajax({url:"index.php?route=checkout/cart/add",type:"post",data:"product_id="+a+"&quantity="+(typeof(b)!="undefined"?b:1),dataType:"json",beforeSend:function(){$("#cart > button").button("loading")},complete:function(){$("#cart > button").button("reset")},success:function(c){$(".alert, .text-danger").remove();if(c.redirect){location=c.redirect}if(c.success){$.magnificPopup.open({fixedContentPos:true,items:{src:"index.php?route=common/aridius_cart/info"},type:"ajax",mainClass:"mfp-fade"});setTimeout(function(){$("#cart button > span").html("<span> &nbsp;"+c.total+'&nbsp;<span class="caret"></span></span>')},100);$("#cart > ul").load("index.php?route=common/cart/info ul li")}},error:function(e,c,d){alert(d+"\r\n"+e.statusText+"\r\n"+e.responseText)}})},update:function(a,b){$.ajax({url:"index.php?route=checkout/cart/edit",type:"post",data:"key="+a+"&quantity="+(typeof(b)!="undefined"?b:1),dataType:"json",beforeSend:function(){$("#cart > button").button("loading")},complete:function(){$("#cart > button").button("reset")},success:function(c){setTimeout(function(){$("#cart > button").html('<span id="cart-total"><i class="fa fa-shopping-cart"></i> '+c.total+"</span>")},100);if(getURLVar("route")=="checkout/cart"||getURLVar("route")=="checkout/checkout"){location="index.php?route=checkout/cart"}else{$("#cart > ul").load("index.php?route=common/cart/info ul li")}},error:function(e,c,d){alert(d+"\r\n"+e.statusText+"\r\n"+e.responseText)}})},update_aridiuscart:function(a,b){$.ajax({url:"index.php?route=checkout/cart/edit_aridiuscart",type:"post",data:"key="+a+"&quantity="+(typeof(b)!="undefined"?b:1),dataType:"json",beforeSend:function(){$("#aridius_cart").css("opacity","0");$("#cart > button").button("loading")},complete:function(){$("#cart > button").button("reset");setTimeout(function(){$("#aridius_cart").css("opacity","")},250)},success:function(c){setTimeout(function(){$("#cart button > span").html("<span> &nbsp;"+c.total+'&nbsp;<span class="caret"></span></span>')},100);if(getURLVar("route")=="checkout/cart"||getURLVar("route")=="checkout/checkout"){location="index.php?route=checkout/cart"}else{$("#cart > ul").load("index.php?route=common/cart/info ul li");$("#aridius_cart").load("index.php?route=common/aridius_cart/info")}},error:function(e,c,d){alert(d+"\r\n"+e.statusText+"\r\n"+e.responseText)}})},remove:function(a){$.ajax({url:"index.php?route=checkout/cart/remove",type:"post",data:"key="+a,dataType:"json",beforeSend:function(){$("#aridius_cart").css("opacity","0");$("#cart > button").button("loading")},complete:function(){$("#cart > button").button("reset");setTimeout(function(){$("#aridius_cart").css("opacity","")},250)},success:function(b){setTimeout(function(){$("#cart button > span").html("<span> &nbsp;"+b.total+'&nbsp;<span class="caret"></span></span>')},100);var c=String(document.location.pathname);if((c=="/cart/")||(c=="/checkout/")||(getURLVar("route")=="checkout/cart")||(getURLVar("route")=="checkout/checkout")){location="index.php?route=checkout/cart"}else{$("#cart > ul").load("index.php?route=common/cart/info ul li");$("#aridius_cart").load("index.php?route=common/aridius_cart/info")}},error:function(d,b,c){alert(c+"\r\n"+d.statusText+"\r\n"+d.responseText)}})}};var voucher={add:function(){},remove:function(a){$.ajax({url:"index.php?route=checkout/cart/remove",type:"post",data:"key="+a,dataType:"json",beforeSend:function(){$("#cart > button").button("loading")},complete:function(){$("#cart > button").button("reset")},success:function(b){setTimeout(function(){$("#cart button > span").html("<span> &nbsp;"+b.total+'&nbsp;<span class="caret"></span></span>')},100);if(getURLVar("route")=="checkout/cart"||getURLVar("route")=="checkout/checkout"){location="index.php?route=checkout/cart"}else{$("#cart > ul").load("index.php?route=common/cart/info ul li")}},error:function(d,b,c){alert(c+"\r\n"+d.statusText+"\r\n"+d.responseText)}})}};var wishlist={add:function(a){$.ajax({url:"index.php?route=account/wishlist/add",type:"post",data:"product_id="+a,dataType:"json",success:function(b){$(".alert").remove();$("#wishlist").modal("show");if(b.success){$("#wishlist .modal-body p").html(b.success)}if(b.info){$("#wishlist .modal-body p").html(b.info)}$("#wishlist-total span").html(b.total);$("#wishlist-total").attr("title",b.total)},error:function(d,b,c){alert(c+"\r\n"+d.statusText+"\r\n"+d.responseText)}})},remove:function(){}};var compare={add:function(a){$.ajax({url:"index.php?route=product/compare/add",type:"post",data:"product_id="+a,dataType:"json",success:function(b){$(".alert").remove();if(b.success){$("#compare").modal("show");$("#compare .modal-body p").html(b.success);$("#compare-total").html(b.total)}},error:function(d,b,c){alert(c+"\r\n"+d.statusText+"\r\n"+d.responseText)}})},remove:function(){}};$(document).delegate(".agree","click",function(b){b.preventDefault();$("#modal-agree").remove();var a=this;$.ajax({url:$(a).attr("href"),type:"get",dataType:"html",success:function(c){html='<div id="modal-agree" class="modal">';html+='  <div class="modal-dialog">';html+='    <div class="modal-content">';html+='      <div class="modal-header">';html+='        <button type="button" class="close" data-dismiss="modal" aria-hidden="true">&times;</button>';html+='        <h4 class="modal-title">'+$(a).text()+"</h4>";html+="      </div>";html+='      <div class="modal-body">'+c+"</div>";html+="    </div";html+="  </div>";html+="</div>";$("body").append(html);$("#modal-agree").modal("show")}})});(function(a){a.fn.autocomplete=function(b){return this.each(function(){this.timer=null;this.items=new Array();a.extend(this,b);a(this).attr("autocomplete","off");a(this).on("focus",function(){this.request()});a(this).on("blur",function(){setTimeout(function(c){c.hide()},200,this)});a(this).on("keydown",function(c){switch(c.keyCode){case 27:this.hide();break;default:this.request();break}});this.click=function(c){c.preventDefault();value=a(c.target).parent().attr("data-value");if(value&&this.items[value]){this.select(this.items[value])}};this.show=function(){var c=a(this).position();a(this).siblings("ul.dropdown-menu").css({top:c.top+a(this).outerHeight(),left:c.left});a(this).siblings("ul.dropdown-menu").show()};this.hide=function(){a(this).siblings("ul.dropdown-menu").hide()};this.request=function(){clearTimeout(this.timer);this.timer=setTimeout(function(c){c.source(a(c).val(),a.proxy(c.response,c))},200,this)};this.response=function(c){html="";if(c.length){for(i=0;i<c.length;i++){this.items[c[i]["value"]]=c[i]}for(i=0;i<c.length;i++){if(!c[i]["category"]){html+='<li data-value="'+c[i]["value"]+'"><a href="#">'+c[i]["label"]+"</a></li>"}}var d=new Array();for(i=0;i<c.length;i++){if(c[i]["category"]){if(!d[c[i]["category"]]){d[c[i]["category"]]=new Array();d[c[i]["category"]]["name"]=c[i]["category"];d[c[i]["category"]]["item"]=new Array()}d[c[i]["category"]]["item"].push(c[i])}}for(i in d){html+='<li class="dropdown-header">'+d[i]["name"]+"</li>";for(j=0;j<d[i]["item"].length;j++){html+='<li data-value="'+d[i]["item"][j]["value"]+'"><a href="#">&nbsp;&nbsp;&nbsp;'+d[i]["item"][j]["label"]+"</a></li>"}}}if(html){this.show()}else{this.hide()}a(this).siblings("ul.dropdown-menu").html(html)};a(this).after('<ul class="dropdown-menu"></ul>');a(this).siblings("ul.dropdown-menu").delegate("a","click",a.proxy(this.click,this))})}})(window.jQuery);